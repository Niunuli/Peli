<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Frog game</title>
		<script type="text/javascript" src="js/phaser.min.js"></script>
		<style type="text/css">
			body {
				margin: 0;
			}
		</style>
	</head>
	<body>
	
		<script type="text/javascript">
		
		var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create, update: update });
		
		function preload() {
		
			game.load.image('background', 'assets/frontpage.jpg');
			game.load.image('ground', 'assets/platform.png');
			game.load.image('diamond', 'assets/diamond.png');
			game.load.spritesheet('frog', 'assets/frog.png', 39.7, 28);
			
		}
		
		var player;
		var platforms;
		var cursors;
		
		function create() {
		
			// enabling Arcade Physics system
			game.physics.startSystem(Phaser.Physics.ARCADE);
			
			// create background
			game.add.sprite(0, 0, 'background');
			
			// contains ground and ledges, enabling physics to the group
			platforms = game.add.group();
			platforms.enableBody = true;
			
			// create the ground
			var ground = platforms.create(0, game.world.height - 64, 'ground');
			
			// scale it to fit the width of the game
			ground.scale.setTo(2, 2);
			
			// stops it from falling when you jump on it
			ground.body.immovable = true;
			
			// create two ledges
			var ledge = platforms.create(400, 400, 'ground');
			ledge.body.immovable = true;
			
			ledge = platforms.create(-150, 250, 'ground');
			ledge.body.immovable = true;
			
			// player and its settings
			player = game.add.sprite(39.7, game.world.height - 150, 'frog');
			
			// enabling physics on the player
			game.physics.arcade.enable(player);
			
			// player physics properties
			player.body.bounce.y = 0.2;
			player.body.gravity.y = 300;
			player.body.collideWorldBounds = true;
			
			// breathing player
			player.animations.add('still', [0, 1, 2, 3, 4], 10, true);
			
			// moving left and right
			//player.animations.add('left', [0, 1], 10, true);
			//player.animations.add('right', [3, 4], 10, true);
			
			// Controls
			cursors = game.input.keyboard.createCursorKeys();
		}
		
		function update() {
			// collide player and objects with the platforms
			game.physics.arcade.collide(player, platforms);
			
			// Reset the players velocity (movement)
			player.body.velocity.x = 0;
			
			if (cursors.left.isDown)
			{
				// Move to the left
				player.body.velocity.x = -150;
				player.frame = 1;
				//player.animations.play('left');
			}
			else if (cursors.right.isDown)
			{
				// Move to the right
				player.body.velocity.x = 150;
				player.frame = 2;
				//player.animations.play('right');
			}
			else
			{
				// Stand still
				player.animations.play('still');
			}
			
			// Allow player to jump if they are touching the ground
			/*if (cursor.up.isDown && player.body.touching.down)
			{
				player.body.velocity.y = -350;
			}*/
		}
		
		</script>
	</body>
</html>